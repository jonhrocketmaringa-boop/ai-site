<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Chat</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f172a;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
}

header{
  padding:15px;
  background:#020617;
  text-align:center;
  font-weight:bold;
}

#chat{
  flex:1;
  overflow-y:auto;
  padding:15px;
}

.msg{
  max-width:75%;
  padding:10px 15px;
  margin:8px 0;
  border-radius:12px;
  line-height:1.4;
}

.user{
  background:#22c55e;
  margin-left:auto;
}

.ai{
  background:#1e293b;
  margin-right:auto;
}

#inputArea{
  display:flex;
  padding:10px;
  background:#020617;
}

input{
  flex:1;
  padding:12px;
  border:none;
  border-radius:10px;
  margin-right:10px;
}

button{
  padding:12px 18px;
  border:none;
  border-radius:10px;
  background:#22c55e;
  color:white;
  font-weight:bold;
}
</style>
</head>

<body>

<header>ðŸ¤– Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</header>

<div id="chat"></div>

<div id="inputArea">
  <input id="msg" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ...">
  <button onclick="askAI()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<script>
function addMessage(text, cls){
  const div=document.createElement("div");
  div.className="msg "+cls;
  div.innerText=text;
  document.getElementById("chat").appendChild(div);
  div.scrollIntoView();
}

async function askAI(){
  const input=document.getElementById("msg");
  const text=input.value.trim();
  if(!text) return;

  addMessage(text,"user");
  input.value="";

  addMessage("...Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±","ai");

  try{
    const res=await fetch(
      "https://api.allorigins.win/raw?url=https://api.affiliateplus.xyz/api/chatbot?message="+encodeURIComponent(text)
    );
    const data=await res.json();

    document.querySelectorAll(".ai").forEach((e,i,arr)=>{
      if(i===arr.length-1) e.innerText=data.message || "Ù…Ø§ÙƒÙˆ Ø±Ø¯ Ø­Ø§Ù„ÙŠØ§Ù‹";
    });

  }catch{
    document.querySelectorAll(".ai").forEach((e,i,arr)=>{
      if(i===arr.length-1) e.innerText="ØµØ§Ø± Ø®Ø·Ø£ Ø¨Ø§Ù„Ø§ØªØµØ§Ù„";
    });
  }
}
</script>

</body>
</html>
